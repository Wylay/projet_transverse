{
    "info": {
      "title": "API-REST-OANI",
      "version": "1.0.0",
      "license": {
        "name": "ISC"
      },
      "description": "API REST pour gérer le site OANI"
    },
    "tags" : [
        {
            "name" : "Photo",
            "description" : "Méthodes permettant de gérer les photos d'oeuvres"
        }
    ],
    "host": "localhost:8080",
    "basePath": "/api-oani/v1",
    "paths": {
      "/Photo/{id}": {
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "type" : "number",
            "description" : "id d'une photo",
            "required": true
          }
        ],
        "get": {
          "tags" : ["Photo"],
          "summary": "Retourne une photo par son id",
          "operationId": "getPhotoById",
          "consumes": [
            "application/json"
          ],
          "responses": {
            "200": {
              "description": "OK",
              "example": 
              {
                "status": "success",
                "result": {
                  "ID": 18,
                  "URL": "1552482425565",
                  "Œuvre": 1,
                  "ordre": 10
                }
              }
            },
            "400": {
                "description": "Erreur",
                "example": 
                {
                    "status": "error",
                    "message": "Aucun résultat pour cet id !"
                }
            }
          }
        },
        "put": {
          "tags" : ["Photo"],
          "summary": "Modifie l'ordre d'une photo par son id",
          "operationId": "UpdatePhoto",
          "consumes": [
            "application/json"
          ],
          "parameters": 
          [
            {
              "name": "ordre",
              "in": "formData",
              "type" : "number",
              "description" : "ordre de la photo pour l'oeuvre",
              "required": true
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "example": 
              {
                "status": "success",
                "result": true
              }
            },
            "400": {
              "description": "Erreur",
              "example": 
              {
                "status": "error",
                "message": "Pas de valeur pour ordre !"
              }
            }
          }
        },
        "delete": {
          "tags" : ["Photo"],
          "summary": "Supprime une photo par son id et renvoie la requête GET /photo",
          "operationId": "DeletePhoto",
          "consumes": [
            "application/json"
          ],
          "responses": {
            "200": {
              "description": "OK",
              "example": 
              {
                "status": "success",
                "result": 
                [
                  {
                    "ID": 1,
                    "URL": "1552571963485",
                    "Œuvre": 1,
                    "ordre": 1
                  },
                  {
                    "ID": 2,
                    "URL": "1552571965490",
                    "Œuvre": 1,
                    "ordre": 2
                  },
                  {
                    "ID": 3,
                    "URL": "1552571967560",
                    "Œuvre": 1,
                    "ordre": 3
                  }
                ]
              }
            },
            "400": {
              "description": "Erreur",
              "example":
              {
                "status": "error",
                "message": "Aucun résultat pour cet id !"
              }
            }
          }
        }
      },
      "/Photo": {
        "get": {
          "tags" : ["Photo"],
          "summary": "Retourne toute les photos, ordonnées par oeuvre et par ordre ou toute les photos pour une oeuvre donnée, ordonnés par ordre",
          "operationId": "getAllPhoto",
          "consumes": [
            "application/json"
          ],
          "parameters": 
          [
            {
              "name": "oeuvre",
              "in": "query",
              "type" : "number",
              "description" : "id d'une oeuvre",
              "required": false
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "example": 
              {
                "status": "success",
                "result": 
                [
                  {
                      "ID": 7,
                      "URL": "jack",
                      "Œuvre": 1,
                      "ordre": 0
                  },
                  {
                      "ID": 6,
                      "URL": "4654354534",
                      "Œuvre": 1,
                      "ordre": 1
                  },
                  {
                      "ID": 17,
                      "URL": "jack22",
                      "Œuvre": 1,
                      "ordre": 2
                  },
                  {
                      "ID": 10,
                      "URL": "46545645",
                      "Œuvre": 1,
                      "ordre": 5
                  },
                  {
                      "ID": 13,
                      "URL": "1552480125798",
                      "Œuvre": 1,
                      "ordre": 6
                  },
                  {
                      "ID": 14,
                      "URL": "1552480171666",
                      "Œuvre": 1,
                      "ordre": 7
                  },
                  {
                      "ID": 15,
                      "URL": "1552481577868",
                      "Œuvre": 1,
                      "ordre": 8
                  },
                  {
                      "ID": 16,
                      "URL": "jack2",
                      "Œuvre": 1,
                      "ordre": 9
                  },
                  {
                      "ID": 18,
                      "URL": "1552482425565",
                      "Œuvre": 1,
                      "ordre": 10
                  }
                ]
              }
            },
            "400": {
                "description": "Erreur",
                "example": 
                {
                    "status": "error",
                    "message": "Aucun résultat pour cet id !"
                }
            }
          }
        },
        "post": {
          "tags" : ["Photo"],
          "summary": "Ajoute une nouvelle photo associée à une oeuvre",
          "operationId": "addPhoto",
          "consumes": [
            "text/plain"
          ],
          "parameters": [
            {
              "name": "id_oeuvre",
              "in": "formData",
              "type": "number",
              "description": "id de l'oeuvre associé",
              "required": true
            },
            {
              "name": "ordre",
              "in": "formData",
              "type": "number",
              "required": false,
              "description": "ordre d'affichage de la photo pour l'oeuvre",
              "default" : "L'ordre le plus grand pour oeuvre actuel +1"
            },
            {
              "name": "name",
              "in": "formData",
              "type": "string",
              "required": false,
              "description": "nom de l'image qui servira d'URL"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "example": {
                "status": "success",
                "result": {
                  "ID": 31,
                  "URL": "1552513483315",
                  "Œuvre": 2,
                  "ordre": 12
                }
              }
            },
            "400": {
              "description": "Erreur",
              "example": 
              {
                "status": "error",
                "message": "Aucun résultat pour cet id !"
              }
            }
          }
        }
      }
    },
    "swagger": "2.0"
  }